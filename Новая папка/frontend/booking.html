<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <title>Бронирование</title>
    <link rel="stylesheet" href="vendor/bootstrap.min.css" />
  </head>
  <body>
    <div class="container py-4">
      <h1 class="mb-4">Бронирование контейнера</h1>
      <form id="bookingForm">
        <div class="mb-3">
          <label for="contId" class="form-label">ID контейнера</label>
          <input type="text" id="contId" class="form-control" required />
        </div>
        <div class="mb-3">
          <label for="date" class="form-label">Дата бронирования</label>
          <input type="date" id="date" class="form-control" required />
        </div>
        <button
          type="submit"
          class="btn btn-primary"
          data-container-id="{{this.id}}"
          data-container-name="{{this.name}}"
          data-container-city="{{this.city}}"
        >
          >Бронировать
        </button>
      </form>
    </div>
    <script src="vendor/axios.min.js"></script>
    <script>
      const API = "http://localhost:3000/api";
      document
        .getElementById("bookingForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          try {
            const res = await axios.post(`${API}/booking`, {
              containerId: document.getElementById("contId").value,
              date: document.getElementById("date").value,
            });
            alert("Забронировано!");
          } catch (err) {
            alert(err.response?.data?.message || "Ошибка");
          }
        });
    </script>
  </body>
</html>
